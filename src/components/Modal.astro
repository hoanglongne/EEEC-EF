---
import modalImage from '../images/modalImageTest.png'
const {mid, image, title, description, time, place, partners, color} = Astro.props;
---

<div id={mid} class="h-0 w-0 opacity-0 relative z-20 flex justify-center items-center bg-[#3C3B3BA8] modal pointer-events-auto">
    <div class="bg-white grid grid-cols-2 z-10 w-[70%] h-[70%] rounded-[19px] border-white overflow-clip border-8">
        <div class="h-full overflow-clip">
            <img class="min-h-full min-w-[550px]" src={image} alt="">
        </div>
        <div class="grid grid-rows-3 ml-auto mr-auto mt-2 mb-20">
            <div class="flex flex-col justify-center items-center gap-6">
                <div class="w-full flex justify-end -mt-4 pr-6">
                    <button class="close-modal">&times;</button>
                </div>
                <h1 class={`font-display ${color} text-4xl`}>{title}</h1>
                <span class="font-tech text-[#304B6C] text-[14px]">Description</span>
            </div>
            <div class="w-[80%] px-6 ml-auto mr-auto -mb-20">
                <p class="text-center text-md text-[#324E6F] font-tech">{description}</p>
            </div>
            <div class="grid gird-rows-3 w-[80%] ml-auto mr-auto pl-6"> 
                <div class="flex justify-start items-center gap-6"> 
                    <svg width="33" height="33" viewBox="0 0 33 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.5 7.2V16.5L22.7 19.6M32 16.5C32 25.0604 25.0604 32 16.5 32C7.93959 32 1 25.0604 1 16.5C1 7.93959 7.93959 1 16.5 1C25.0604 1 32 7.93959 32 16.5Z" stroke="#304B6C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div>
                        <span class="font-tech text-[16px] text-[#304B6C]">{time}</span>
                    </div>
                </div>
                <div class="flex justify-start items-center gap-6">
                    <svg width="27" height="31" viewBox="0 0 27 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M26 12.8636C26 22.0909 13.5 30 13.5 30C13.5 30 1 22.0909 1 12.8636C1 9.7172 2.31696 6.69964 4.66116 4.47478C7.00537 2.24992 10.1848 1 13.5 1C16.8152 1 19.9946 2.24992 22.3388 4.47478C24.683 6.69964 26 9.7172 26 12.8636Z" stroke="#304B6C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M13.5 16.8182C15.8012 16.8182 17.6667 15.0477 17.6667 12.8636C17.6667 10.6796 15.8012 8.90909 13.5 8.90909C11.1988 8.90909 9.33333 10.6796 9.33333 12.8636C9.33333 15.0477 11.1988 16.8182 13.5 16.8182Z" stroke="#304B6C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div>
                        <span class="font-tech text-[16px] text-[#304B6C]">{place}</span>
                    </div>                    
                </div>
                <div class="flex justify-start items-center gap-6">
                    <svg width="30" height="25" viewBox="0 0 38 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M27.1818 31V27.6667C27.1818 25.8986 26.4922 24.2029 25.2647 22.9526C24.0372 21.7024 22.3723 21 20.6364 21H7.54545C5.80949 21 4.14463 21.7024 2.91712 22.9526C1.68961 24.2029 1 25.8986 1 27.6667V31M37 30.9998V27.6665C36.9989 26.1894 36.5162 24.7544 35.6277 23.587C34.7392 22.4196 33.4951 21.5858 32.0909 21.2165M25.5455 1.21647C26.9534 1.58364 28.2013 2.41764 29.0925 3.58699C29.9837 4.75634 30.4674 6.19452 30.4674 7.6748C30.4674 9.15509 29.9837 10.5933 29.0925 11.7626C28.2013 12.932 26.9534 13.766 25.5455 14.1331M20.6364 7.66667C20.6364 11.3486 17.7059 14.3333 14.0909 14.3333C10.476 14.3333 7.54545 11.3486 7.54545 7.66667C7.54545 3.98477 10.476 1 14.0909 1C17.7059 1 20.6364 3.98477 20.6364 7.66667Z" stroke="#304B6C" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div>
                        <span class="font-tech text-[16px] text-[#304B6C]">{partners}</span>
                    </div>                
                </div>
            </div>
        </div>
    </div>
</div>
    <script>

    import '../js/modalClose.js'
    // const closeBtns = document.querySelectorAll('.close-modal');

    // closeBtns.forEach((btn) => {
    //     btn.addEventListener('click', (e) => {
    //         const modal = btn.closest('.modal')
    //         modal.style.height = 0;
    //         modal.style.width = 0;
    //         modal.style.opacity = 0;
    //     })
    // })

    // window.addEventListener('click', (e) => {
    //          if(e.target.classList.contains('modal')){
    //             e.target.style.height = 0;
    //             e.target.style.width = 0;
    //             e.target.style.opacity = 0;
    //         }
    //     }
    // )

    // const modals = document.querySelectorAll('.modal');
    // modals.forEach((modal) => {
    //     window.addEventListener('keydown', (e) => {
    //         if (e.key=="Escape") {
    //             modal.style.transition = '1s width 2s, opacity 500ms, height 500ms ease-out '
    //             modal.style.height = 0;
    //             modal.style.width = 0;
    //             modal.style.opacity = 0;
    //         }
    //     })
    // })
    </script>

<style>
.modal {
    height: 0;
    opacity: 0;
    width: 0;
}
</style>